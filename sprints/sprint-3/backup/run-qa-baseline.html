<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Run QA Baseline</title>
</head>
<body>
  <h1>üéØ QA Baseline Executor</h1>
  <p>Este helper executa a captura automaticamente.</p>
  
  <button onclick="runCapture()" style="padding: 20px; font-size: 18px; background: #3498db; color: white; border: none; cursor: pointer; border-radius: 5px;">
    ‚ñ∂Ô∏è Executar Captura do Baseline
  </button>
  
  <div id="status" style="margin-top: 20px; font-family: monospace; white-space: pre-wrap;"></div>

  <script>
    // Carregar script de captura
    const script = document.createElement('script');
    script.src = 'qa-baseline-capture.js';
    document.head.appendChild(script);

    async function runCapture() {
      const statusDiv = document.getElementById('status');
      statusDiv.innerHTML = '‚è≥ Iniciando captura...\n';
      
      try {
        // Aguardar script carregar
        if (typeof qaBaseline === 'undefined') {
          statusDiv.innerHTML += '‚ùå Script n√£o carregado. Recarregue a p√°gina.\n';
          return;
        }

        // Executar captura
        statusDiv.innerHTML += 'üéØ Executando captura...\n';
        const report = await qaBaseline.captureFullBaseline();
        
        statusDiv.innerHTML += '\n‚úÖ CAPTURA COMPLETA!\n';
        statusDiv.innerHTML += `\nResumo:\n`;
        statusDiv.innerHTML += `- Pages: ${report.summary.totalPages}\n`;
        statusDiv.innerHTML += `- Components: ${report.summary.totalComponents}\n`;
        statusDiv.innerHTML += `- Features: ${report.summary.totalInteractions}\n`;
        statusDiv.innerHTML += `- Storage Keys: ${report.summary.localStorageKeys}\n`;
        
        statusDiv.innerHTML += '\nüìä Agora execute:\n';
        statusDiv.innerHTML += '1. qaBaseline.exportReport() - para exportar JSON\n';
        statusDiv.innerHTML += '2. qaBaseline.exportHTMLReport() - para exportar HTML\n';
        
        console.log('‚úÖ Relat√≥rio completo:', report);
        
      } catch (error) {
        statusDiv.innerHTML += `\n‚ùå ERRO: ${error.message}\n`;
        console.error('Erro na captura:', error);
      }
    }

    // Adicionar helper no console
    window.exportJSON = () => qaBaseline.exportReport();
    window.exportHTML = () => qaBaseline.exportHTMLReport();

    console.log('%cüéØ QA Baseline Helper Carregado!', 'font-size: 16px; font-weight: bold; color: #3498db;');
    console.log('');
    console.log('Para executar pelo console:');
    console.log('  await qaBaseline.captureFullBaseline()');
    console.log('  exportJSON()');
    console.log('  exportHTML()');
  </script>
</body>
</html>
